<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Utilizador - Gerador de Relat√≥rio Fotogr√°fico</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cor-primaria: #005A9C;
            --cor-secundaria: #003d6b;
            --cor-destaque: #FF9933;
            --cor-fundo: #f8f9fa;
            --cor-texto: #343a40;
            --cor-texto-claro: #6c757d;
            --cor-borda: #dee2e6;
            --sombra-caixa: 0 4px 15px rgba(0, 0, 0, 0.07);
        }

        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            display: flex;
            line-height: 1.7;
        }

        #sidebar {
            width: 280px;
            background-color: #fff;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            padding: 2rem 1.5rem;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
            overflow-y: auto;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        #sidebar h1 {
            font-family: 'Roboto', sans-serif;
            font-size: 1.5rem;
            color: var(--cor-primaria);
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--cor-borda);
            padding-bottom: 1rem;
        }

        #sidebar nav {
            flex-grow: 1;
        }

        #sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #sidebar nav li a {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--cor-texto);
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            transition: background-color 0.3s, color 0.3s;
            font-weight: 500;
        }

        #sidebar nav li a:hover, #sidebar nav li a.active {
            background-color: var(--cor-primaria);
            color: #fff;
        }
        
        .sidebar-footer {
            padding-top: 1rem;
            margin-top: 2rem;
            border-top: 1px solid var(--cor-borda);
            font-size: 0.8rem;
            color: var(--cor-texto-claro);
            text-align: center;
        }

        #main-content {
            margin-left: 280px;
            padding: 3rem 4rem;
            width: calc(100% - 280px);
        }

        section {
            margin-bottom: 4rem;
            background: #fff;
            padding: 2.5rem;
            border-radius: 8px;
            box-shadow: var(--sombra-caixa);
        }
        
        section:last-child {
            margin-bottom: 0;
        }

        h2 {
            font-family: 'Roboto', sans-serif;
            font-size: 2rem;
            color: var(--cor-secundaria);
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--cor-borda);
        }
        
        h3 {
            font-family: 'Roboto', sans-serif;
            font-size: 1.4rem;
            color: var(--cor-primaria);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        p, li {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: var(--cor-texto-claro);
        }

        ul {
            padding-left: 20px;
        }

        code {
            background-color: #e9ecef;
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 3px;
            font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        
        .botao-manual {
             display: inline-block;
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 5px;
            font-size: 0.85rem;
            font-weight: 700;
            color: #fff;
            font-family: inherit;
        }
        .botao-gemini { background-color: var(--cor-gemini); }
        .botao-anotacao { background-color: var(--cor-anotacao); }
        .botao-secundario { background-color: #6c757d; }
        .botao-principal { background-color: var(--cor-primaria); }

        .alerta {
            padding: 1rem;
            margin: 1.5rem 0;
            border-left: 5px solid;
            border-radius: 4px;
            background-color: #f8f9fa;
        }
        .alerta-info { border-color: var(--cor-primaria); }
        .alerta-aviso { border-color: var(--cor-destaque); }
        
        .alerta p { margin: 0; }

        .menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background: var(--cor-primaria);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        @media (max-width: 992px) {
            body {
                flex-direction: column;
            }
            #sidebar {
                transform: translateX(-100%);
                z-index: 1000;
            }
            #sidebar.open {
                transform: translateX(0);
            }
            #main-content {
                margin-left: 0;
                width: 100%;
                padding: 2rem 1.5rem;
            }
            .menu-toggle {
                display: block;
            }
        }
    </style>
</head>
<body>

    <button class="menu-toggle" id="menu-toggle">‚ò∞</button>

    <aside id="sidebar">
        <h1>Manual de Utilizador</h1>
        <nav id="nav-menu">
            <ul>
                <li><a href="#introducao" class="active">Introdu√ß√£o</a></li>
                <li><a href="#primeiros-passos">Primeiros Passos</a></li>
                <li><a href="#gestao-fotos">Gest√£o de Fotografias</a></li>
                <li><a href="#ia-gemini">Funcionalidades de IA</a></li>
                <li><a href="#anotacoes">Anota√ß√µes nas Imagens</a></li>
                <li><a href="#gestao-ficheiros">Gest√£o de Ficheiros</a></li>
                <li><a href="#exportacao">Exporta√ß√£o de Relat√≥rios</a></li>
                <li><a href="#mapas">Funcionalidades do Mapa</a></li>
                <li><a href="#faq">Dicas e FAQ</a></li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            Vers√£o: V 0.0
        </div>
    </aside>

    <main id="main-content">
        <section id="introducao">
            <h2>Bem-vindo ao Gerador de Relat√≥rio Fotogr√°fico</h2>
            <p>Este manual detalha o funcionamento do <strong>Gerador de Relat√≥rio Fotogr√°fico</strong>, uma ferramenta poderosa e flex√≠vel desenhada para otimizar a cria√ß√£o de relat√≥rios t√©cnicos profissionais.</p>
            <p>Com esta aplica√ß√£o, pode facilmente combinar fotografias, dados t√©cnicos, descri√ß√µes e observa√ß√µes num documento A4 perfeitamente formatado. As funcionalidades avan√ßadas, como a integra√ß√£o com a IA da Gemini, anota√ß√µes em imagens e mapas interativos, permitem um n√≠vel de detalhe e profissionalismo sem precedentes.</p>
        </section>

        <section id="primeiros-passos">
            <h2>Primeiros Passos: Configurar o seu Relat√≥rio</h2>
            <p>O formul√°rio inicial √© o ponto de partida para a cria√ß√£o do seu relat√≥rio. Aqui, define-se a estrutura e os dados base.</p>
            
            <h3>Dados Essenciais do Relat√≥rio</h3>
            <ul>
                <li><strong>T√≠tulo do Relat√≥rio:</strong> O t√≠tulo principal que aparecer√° na capa e nos rodap√©s.</li>
                <li><strong>T√≠tulo do Cabe√ßalho:</strong> Um subt√≠tulo que aparece no canto superior direito de cada p√°gina.</li>
                <li><strong>N¬∫ do Relat√≥rio e Data:</strong> Identificadores √∫nicos para o seu documento.</li>
                <li><strong>Cliente e Elaborado Por:</strong> Campos para identificar as partes envolvidas.</li>
            </ul>

            <h3>Identidade Visual</h3>
            <ul>
                <li><strong>Log√≥tipo:</strong> Imagem que aparece no topo da primeira p√°gina.</li>
                <li><strong>Imagem de Rodap√©:</strong> Imagem que pode ser usada como rodap√© visual em todas as p√°ginas.</li>
                <li><strong>Rubrica/Assinatura:</strong> A sua assinatura, que ser√° colocada na p√°gina de capa. Recomenda-se um ficheiro de imagem com fundo transparente (PNG).</li>
                <li><strong>Rubrica Abreviada:</strong> Uma vers√£o mais pequena da sua rubrica para as restantes p√°ginas.</li>
            </ul>

            <h3>Chave da API Gemini</h3>
            <p>Para usar as funcionalidades de Intelig√™ncia Artificial (‚ú®), √© necess√°rio inserir uma chave da API da Google Gemini. Pode obt√™-la gratuitamente em <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a>.</p>
            <div class="alerta alerta-aviso">
                <p><strong>Privacidade:</strong> A sua chave de API √© usada diretamente pelo seu navegador para comunicar com a Google e nunca √© guardada ou partilhada pelo nosso programa.</p>
            </div>
        </section>

        <section id="gestao-fotos">
            <h2>Gest√£o de Fotografias</h2>
            <p>A gest√£o das fotografias √© o cora√ß√£o do relat√≥rio. A aplica√ß√£o oferece controlo total sobre as imagens.</p>
            
            <h3>Adicionar Fotografias</h3>
            <p>Clique no bot√£o <button class="botao-manual botao-secundario">Adicionar Fotografias</button> para selecionar as imagens do seu computador. Pode selecionar m√∫ltiplos ficheiros de uma s√≥ vez, incluindo formatos comuns como JPEG, PNG e tamb√©m HEIC (formato de iPhone).</p>

            <h3>Organizar e Selecionar</h3>
            <ul>
                <li><strong>Reordenar:</strong> Clique e arraste uma miniatura para alterar a sua posi√ß√£o no relat√≥rio.</li>
                <li><strong>Selecionar/Desselecionar:</strong> Um simples clique numa miniatura alterna a sua sele√ß√£o. Apenas as fotos selecionadas (com a borda azul) ser√£o inclu√≠das no relat√≥rio.</li>
                <li><strong>Remover:</strong> Passe o rato sobre uma miniatura e clique no √≠cone do caixote do lixo (üóëÔ∏è) para a remover permanentemente da lista.</li>
                <li><strong>Rodar:</strong> Clique no √≠cone de rota√ß√£o (‚Üª) para girar a imagem 90 graus no sentido hor√°rio.</li>
            </ul>
        </section>

        <section id="ia-gemini">
            <h2>Funcionalidades de IA com Gemini ‚ú®</h2>
            <p>A integra√ß√£o com a IA da Gemini permite-lhe automatizar e refinar a escrita de textos t√©cnicos, poupando tempo e melhorando a qualidade do seu relat√≥rio.</p>

            <h3>Gerar Descri√ß√µes e Legendas</h3>
            <p>Ao lado dos campos de texto "Descri√ß√£o do Registo", "Observa√ß√µes Finais" e das legendas de cada foto, encontrar√° o bot√£o <button class="botao-manual botao-gemini">Gerar/Refinar ‚ú®</button>.</p>
            <ul>
                <li><strong>Gerar do zero:</strong> Deixe o campo de texto vazio e clique no bot√£o para que a IA gere um texto com base no contexto (t√≠tulo do relat√≥rio ou imagem).</li>
                <li><strong>Refinar texto existente:</strong> Escreva algumas notas ou um rascunho no campo de texto e clique no bot√£o. A IA ir√° usar as suas notas como base para criar um texto mais profissional, coeso e detalhado.</li>
            </ul>

            <h3>Gerar Sum√°rio Executivo</h3>
            <p>Ap√≥s gerar o relat√≥rio, na vista de pr√©-visualiza√ß√£o, pode usar o bot√£o <button class="botao-manual botao-gemini">Gerar Sum√°rio Executivo ‚ú®</button>. Esta fun√ß√£o analisa todas as legendas das fotos e cria um sum√°rio executivo e uma lista de recomenda√ß√µes, que s√£o inseridos numa nova p√°gina no in√≠cio do relat√≥rio.</p>
        </section>
        
        <section id="anotacoes">
            <h2>Anota√ß√µes nas Imagens</h2>
            <p>Para destacar detalhes espec√≠ficos, pode desenhar diretamente sobre as imagens.</p>
            <ol>
                <li>Clique no bot√£o <button class="botao-manual botao-anotacao">‚úèÔ∏è Anotar</button> abaixo da imagem desejada para mostrar a barra de ferramentas.</li>
                <li>Selecione uma ferramenta (Seta, C√≠rculo ou Texto).</li>
                <li>Clique e arraste sobre a imagem para desenhar. Para a ferramenta de texto, clique onde deseja inserir o texto e digite na caixa que aparece.</li>
                <li>Use os bot√µes de desfazer (‚Ü∂), refazer (‚Ü∑) ou limpar para gerir as suas anota√ß√µes.</li>
            </ol>
            <div class="alerta alerta-info">
                <p>As anota√ß√µes s√£o guardadas automaticamente e ser√£o inclu√≠das nas exporta√ß√µes para HTML, DOCX e PDF.</p>
            </div>
        </section>

        <section id="gestao-ficheiros">
            <h2>Gest√£o de Ficheiros: Guardar e Carregar</h2>
            <p>Nunca perca o seu trabalho. A aplica√ß√£o permite guardar todo o progresso num √∫nico ficheiro.</p>
            
            <h3>Guardar Relat√≥rio</h3>
            <p>Na vista de pr√©-visualiza√ß√£o, clique em <button class="botao-manual botao-secundario">Guardar</button>. Isto ir√° gerar um ficheiro <code>.json</code> que cont√©m todos os dados do formul√°rio, as legendas, as anota√ß√µes e as pr√≥prias imagens. Guarde este ficheiro em seguran√ßa.</p>

            <h3>Carregar Relat√≥rio</h3>
            <p>Na p√°gina inicial, clique em <button class="botao-manual botao-secundario">Carregar Relat√≥rio Guardado</button> e selecione o ficheiro <code>.json</code> que guardou anteriormente. Todos os campos e fotografias ser√£o restaurados.</p>
            
            <h3>O que s√£o Templates e como funcionam?</h3>
            <p>Os templates s√£o uma forma de guardar as suas configura√ß√µes recorrentes para n√£o ter de as inserir sempre que cria um novo relat√≥rio. Isto √© ideal para guardar dados como o log√≥tipo da sua empresa, a imagem de rodap√©, o seu nome no campo "Elaborado Por", etc.</p>
            <ul>
                <li><strong>Para guardar um template:</strong> Preencha os campos que deseja guardar (log√≥tipo, rodap√©, nome, etc.) e clique no bot√£o <button class="botao-manual botao-secundario">üìã Templates</button>. Na janela que aparece, clique em <button class="botao-manual botao-principal">üíæ Guardar Template Atual</button> e d√™-lhe um nome.</li>
                <li><strong>Para usar um template:</strong> Clique em <button class="botao-manual botao-secundario">üìã Templates</button> e, na lista de templates guardados, clique no bot√£o "Aplicar" correspondente ao que deseja usar. Os campos do formul√°rio ser√£o preenchidos automaticamente.</li>
            </ul>
        </section>

        <section id="exportacao">
            <h2>Exporta√ß√£o de Relat√≥rios</h2>
            <p>A aplica√ß√£o oferece tr√™s formatos de exporta√ß√£o para diferentes finalidades.</p>
            
            <h3>Exportar HTML</h3>
            <p>Gera um ficheiro <code>.html</code> aut√≥nomo e interativo. √â a vers√£o mais fiel √† pr√©-visualiza√ß√£o, mantendo os mapas interativos e as hiperliga√ß√µes entre as fotos e os marcadores no mapa. Ideal para partilha digital.</p>

            <h3>Exportar DOCX</h3>
            <p>Cria um ficheiro <code>.docx</code> para edi√ß√£o no Microsoft Word ou noutros processadores de texto.</p>
            <div class="alerta alerta-aviso">
                <p><strong>Compatibilidade:</strong> Se o ficheiro DOCX apresentar erros ao abrir no Microsoft Word, experimente abri-lo com o <strong>Google Docs</strong>, que √© geralmente mais tolerante com a formata√ß√£o.</p>
            </div>

            <h3>Imprimir / PDF</h3>
            <p>Abre a caixa de di√°logo de impress√£o do seu navegador. Para guardar como PDF, escolha a op√ß√£o "Guardar como PDF" na lista de impressoras.</p>
            <div class="alerta alerta-info">
                <p><strong>Nota Importante:</strong> A vers√£o impressa em PDF √© considerada a c√≥pia final e oficial do relat√≥rio, preparada para ser partilhada com terceiros.</p>
            </div>
        </section>

        <section id="mapas">
            <h2>Funcionalidades do Mapa</h2>
            <p>Se as suas fotografias contiverem dados de geolocaliza√ß√£o (GPS), a aplica√ß√£o ir√° gerar automaticamente duas p√°ginas de mapas no final do relat√≥rio.</p>
            
            <h3>Mapa de Calor (Heatmap)</h3>
            <p>A primeira p√°gina de mapa mostra uma "mancha de calor" que indica as zonas com maior concentra√ß√£o de fotografias, dando uma vis√£o geral da √°rea de trabalho.</p>

            <h3>Mapa Detalhado</h3>
            <p>A segunda p√°gina apresenta um mapa com marcadores numerados para cada foto. Estes marcadores s√£o interativos:</p>
            <ul>
                <li><strong>Clicar no marcador:</strong> Leva-o diretamente para a fotografia correspondente no relat√≥rio.</li>
                <li><strong>Clicar no √≠cone üìç na foto:</strong> Leva-o para o marcador correspondente no mapa, destacando-o.</li>
            </ul>
        </section>

        <section id="faq">
            <h2>Dicas e Perguntas Frequentes</h2>
            <h3>Como obtenho os melhores resultados com a IA?</h3>
            <p>Seja espec√≠fico. Em vez de uma nota vaga como "verificar pilar", escreva "verificar fissuras e corros√£o na base do pilar P-05". Quanto mais detalhada for a sua nota, mais preciso ser√° o texto gerado pela IA.</p>
            
            <h3>As minhas fotos de iPhone (HEIC) n√£o funcionam. O que fazer?</h3>
            <p>A aplica√ß√£o converte automaticamente ficheiros HEIC. Se encontrar algum problema, certifique-se de que est√° a usar um navegador moderno (Chrome, Firefox, Edge). A convers√£o √© feita localmente no seu computador e pode demorar alguns segundos por foto.</p>

            <h3>O relat√≥rio exportado para DOCX parece diferente da pr√©-visualiza√ß√£o.</h3>
            <p>Isto √© normal. A convers√£o para DOCX tenta replicar a estrutura, mas a formata√ß√£o final pode variar dependendo do seu processador de texto e das suas defini√ß√µes. O formato HTML √© sempre o mais fiel √† pr√©-visualiza√ß√£o.</p>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar');
            const navLinks = document.querySelectorAll('#nav-menu a');

            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    navLinks.forEach(l => l.classList.remove('active'));
                    e.target.classList.add('active');
                    if (window.innerWidth <= 992) {
                        sidebar.classList.remove('open');
                    }
                });
            });

            // Active link on scroll
            const sections = document.querySelectorAll('section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { threshold: 0.5 });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
